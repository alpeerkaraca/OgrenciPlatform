@using Shared.Enums
@model Shared.DTO.MyCoursesDTO
@{
    var coursesByDay = Model.Courses
        .Where(c => c.ApprovalStatus == (int)ApprovalStatus.Onaylandı)
        .GroupBy(c => c.DayOfWeek)
        .ToDictionary(g => g.Key, g => g.ToList());

    var days = new[] { "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma" };
    var startHour = 8;
    var endHour = 18;
}

<style> /* style.css veya custom.css dosyanıza ekleyin/güncelleyin */

/* Genel Modal İçerik Alanı */
    .cd-schedule-modal__event-info {
        padding: 20px; /* İçeriden boşluk ekleyelim */
        line-height: 1.6; /* Satır aralığını artırarak okunabilirliği iyileştirelim */
        color: #333; /* Metin rengini koyu gri yapalım */
        font-size: 1rem; /* Varsayılan yazı tipi boyutunu ayarlayalım */
    }

    /* Eğitmen Bilgisi */

    .cd-schedule-modal__event-info p:first-child { /* İlk paragraf (eğitmen bilgisi) için */
        font-weight: 600; /* Daha kalın bir font */
        color: #555; /* Biraz daha açık bir gri */
        margin-bottom: 15px; /* Altına boşluk bırakalım */
        padding-bottom: 10px; /* Altına iç boşluk ekleyelim */
        border-bottom: 1px solid #eee; /* Altına ince bir çizgi çekelim */
        display: flex; /* Flexbox kullanarak "Eğitmen:" ve isim arasında düzenleme */
        align-items: center;
    }

    .cd-schedule-modal__event-info p:first-child strong {
        color: #333; /* "Eğitmen:" yazısını daha belirgin yapalım */
        margin-right: 5px; /* Eğitmen adından biraz boşluk bırakalım */
    }

    /* Ders Açıklaması */

    .cd-schedule-modal__event-info div { /* Ders açıklaması için kullanılan div */
        margin-top: 20px; /* Eğitmen bilgisinden sonra üst boşluk */
        padding-top: 15px; /* Üst iç boşluk */
        border-top: 1px solid #eee; /* Üstüne ince bir çizgi çekelim */
        color: #444; /* Metin rengini biraz daha açık */
        font-size: 0.95rem; /* Açıklama yazısını biraz küçültelim */
        text-align: justify; /* Metni iki yana yaslayarak daha profesyonel bir görünüm */
    }

    /* Eğer modal başlığı ve tarihi için de stil değişikliği istenirse: */

    .cd-schedule-modal__event-name {
        font-size: 1.8rem;
        font-weight: 700;
        color: #2c3e50; /* Koyu mavi/gri */
        margin-bottom: 5px;
    }

    .cd-schedule-modal__date {
        font-size: 0.9rem;
        color: #7f8c8d; /* Açık gri */
        margin-bottom: 20px;
    }
</style>

<div class="cd-schedule cd-schedule--loading margin-top-lg margin-bottom-lg js-cd-schedule">
    <div class="cd-schedule__timeline">
        <ul>
            @for (var hour = startHour; hour <= endHour; hour++)
            {
                <li>
                    <span>@hour.ToString("00"):00</span>
                </li>
                <li>
                    <span>@hour.ToString("00"):30</span>
                </li>
            }
        </ul>
    </div>
    <div class="cd-schedule__events">
        <ul>
            @foreach (var day in days)
            {
                <li class="cd-schedule__group">
                    <div class="cd-schedule__top-info">
                        <span>@day</span>
                    </div>
                    <ul>
                        @if (coursesByDay.ContainsKey(day))
                        {
                            foreach (var course in coursesByDay[day])
                            {
                                var times = course.TimeSlot.Split('-');
                                var startTime = times[0].Trim();
                                var endTime = times[1].Trim();

                                <li class="cd-schedule__event">
                                    <a data-start="@startTime" data-end="@endTime" href="#0" data-content="@course.CourseName" data-event="event-1" data-teacher-full-name="@course.TeacherFullName" data-event-content="@course.Description" data-classroom="@course.Classroom">
                                        <em class="cd-schedule__name">@course.CourseName</em>
                                    </a>
                                </li>
                            }
                        }
                    </ul>
                </li>
            }
        </ul>
    </div>

    <div class="cd-schedule-modal" style="z-index: 2000">
        <header class="cd-schedule-modal__header">
            <div class="cd-schedule-modal__content">
                <span class="cd-schedule-modal__date"></span>
                <h3 class="cd-schedule-modal__name"></h3>
                <em class="cd-schedule-modal__code"></em>
            </div>
            <div class="cd-schedule-modal__header-bg"></div>
        </header>
        <div class="cd-schedule-modal__body">
            <div class="cd-schedule-modal__event-info"></div>
            <div class="cd-schedule-modal__body-bg"></div>
        </div>
        <a href="#0" class="cd-schedule-modal__close text-replace">Close</a>
    </div>
    <div class="cd-schedule__cover-layer"></div>
</div>
@Styles.Render("~/Content/schedule")

@section scripts {
    @Scripts.Render("~/bundles/schedule")
}