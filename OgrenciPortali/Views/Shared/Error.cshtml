@model System.Web.Mvc.HandleErrorInfo

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Hata Oluştu</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 20px;
            color: #333;
        }

        .error-container {
            border: 1px solid #dc3545;
            background-color: #f8d7da;
            padding: 20px;
            border-radius: 5px;
        }

        h1, h2 {
            color: #721c24;
        }

        h1 {
            font-size: 2em;
        }

        h2 {
            font-size: 1.5em;
            font-weight: normal;
            border-bottom: 1px solid #f5c6cb;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        .error-details {
            background-color: #fff;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-top: 20px;
        }

            .error-details strong {
                color: #555;
            }

        pre {
            background-color: #eee;
            border: 1px solid #ddd;
            padding: 10px;
            font-family: "Consolas", "Courier New", monospace;
            white-space: pre-wrap; /* Satırları kaydır */
            word-wrap: break-word; /* Kelimeleri kır */
            font-size: 0.9em;
            color: #222;
        }

        .inner-exception {
            border-left: 3px solid #ffc107;
            margin-top: 15px;
            padding-left: 15px;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <h1>Hata Oluştu.</h1>
        <h2>İsteğiniz işlenirken beklenmedik bir sorun meydana geldi.</h2>

        @if (Model == null)
        {
            <p>Hata detayları mevcut değil.</p>
        }
        else
        {
            if (HttpContext.Current.Request.IsLocal)
            {
                <div class="error-details">
                    <h3><span style="color: #dc3545;">Hata Detayları (Sadece Geliştirici İçin)</span></h3>
                    <p>
                        <strong>Controller:</strong> @Model.ControllerName <br />
                        <strong>Action:</strong> @Model.ActionName <br />
                        <strong>Exception Tipi:</strong> @Model.Exception.GetType().FullName
                    </p>

                    <h4>Hata Mesajı</h4>
                    <pre>@Model.Exception.Message</pre>

                    <h4>Stack Trace</h4>
                    <pre>@Model.Exception.StackTrace</pre>

                    @{
                        var ex = Model.Exception.InnerException;
                        int counter = 1;
                    }
                    @while (ex != null)
                    {
                        <div class="inner-exception">
                            <h4>Inner Exception #@counter</h4>
                            <p>
                                <strong>Tip:</strong> @ex.GetType().FullName
                            </p>
                            <h5>Mesaj:</h5>
                            <pre>@ex.Message</pre>
                            <h5>Stack Trace:</h5>
                            <pre>@ex.StackTrace</pre>
                        </div>
                        ex = ex.InnerException;
                        counter++;
                    }
                </div>
            }
            else
            {
                <p>
                    Lütfen daha sonra tekrar deneyin. Sorun devam ederse sistem yöneticinizle iletişime geçin.
                </p>
            }
        }
    </div>
</body>
</html>